<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Autom Tech Test</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <form
      name="formOpen"
      action="index.html"
      method="POST"
      onsubmit="return alertOpen()"
    >
      <section>
        <div class="wrapLabelAndInput">
          <label for="velocity">Velocidade</label>
          <div class="range-wrap">
            <div class="range-value" id="rangeV"></div>
            <input
              id="range"
              type="range"
              min="0"
              max="120"
              value="50"
              step="1"
            />
          </div>
        </div>
        <div class="wrapLabelAndInput">
          <label for="velocity">Quantidade de fotos</label>
          <div class="range-wrap">
            <div class="range-value" id="rangeV2"></div>
            <input
              id="range2"
              type="range"
              min="0"
              max="60"
              value="25"
              step="1"
            />
          </div>
        </div>
        <div class="wrapLabelAndInput">
          <label>Direção</label>
          <div class="wrapRadioLabelAndValue">
            <input
              type="radio"
              id="hour"
              value="Horário"
              name="direction"
              checked
            />
            <label for="hour">Horário</label>

            <input
              type="radio"
              id="hour"
              value="Anti-Horário"
              name="direction"
            />
            <label for="hour">Anti-Horário</label>
          </div>
        </div>
      </section>
      <section>
        <div class="wrapLabelAndInput">
          <label for="range3">Ângulo da plataforma</label>
          <div class="range-wrap">
            <div class="range-value" id="rangeV3"></div>
            <input
              id="range3"
              type="range"
              min="0"
              max="360"
              value="180"
              step="1"
            />
          </div>
        </div>
        <div class="wrapArrowBtns">
          <div class="arrowDiv">◀</div>
          <div class="arrowDiv">▶</div>
        </div>
      </section>
      <div class="wrapBtnStart">
        <button
          type="submit"
          name="submit"
          value="start"
          class="btnIStart"
        >
          Iniciar
        </button>
      </div>
    </form>
    <script>
      const range = document.getElementById("range"),
        rangeV = document.getElementById("rangeV");
      const range2 = document.getElementById("range2"),
        rangeV2 = document.getElementById("rangeV2");
      const range3 = document.getElementById("range3"),
        rangeV3 = document.getElementById("rangeV3");
      setValue = () => {
        const newValue = Number(
            ((range.value - range.min) * 100) /
              (range.max - range.min)
          ),
          newPosition = 10 - newValue * 0.2;
        rangeV.innerHTML = `<span>${range.value} rpm</span>`;
        rangeV.style.left = `calc(${newValue}% + (${newPosition}px))`;
      };

      setValue2 = () => {
        const newValue2 = Number(
            ((range2.value - range2.min) * 100) /
              (range2.max - range2.min)
          ),
          newPosition2 = 10 - newValue2 * 0.2;
        rangeV2.innerHTML = `<span>${range2.value} Fotos</span>`;
        rangeV2.style.left = `calc(${newValue2}% + (${newPosition2}px))`;
      };

      setValue3 = () => {
        const newValue3 = Number(
            ((range3.value - range3.min) * 100) /
              (range3.max - range3.min)
          ),
          newPosition3 = 10 - newValue3 * 0.2;
        rangeV3.innerHTML = `<span>${range3.value} °</span>`;
        rangeV3.style.left = `calc(${newValue3}% + (${newPosition3}px))`;
      };
      document.addEventListener(
        "DOMContentLoaded",
        setValue
      );
      document.addEventListener(
        "DOMContentLoaded",
        setValue2
      );
      document.addEventListener(
        "DOMContentLoaded",
        setValue3
      );
      range.addEventListener("input", setValue);
      range2.addEventListener("input", setValue2);
      range3.addEventListener("input", setValue3);
    </script>
    <script type="text/javascript">
      function alertOpen() {
        var form = document.forms["formOpen"];
        var range = form.range.value;
        var range2 = form.range2.value;
        var range3 = form.range3.value;
        var hour = form.hour.value;

        alert(
          "Velocidade: " +
            range +
            " rpm" +
            " | " +
            "Quantidade de fotos: " +
            range2 +
            " Fotos" +
            " | " +
            "Ângulo da plataforma: " +
            range3 +
            " °" +
            " | " +
            "Direção: " +
            hour
        );
        return false;
      }
    </script>
  </body>
</html>
